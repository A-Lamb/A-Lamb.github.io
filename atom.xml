<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>A-Lamb&#39;s notebook</title>
  
  
  <link href="https://a-lamb.github.io/atom.xml" rel="self"/>
  
  <link href="https://a-lamb.github.io/"/>
  <updated>2021-06-16T02:22:14.102Z</updated>
  <id>https://a-lamb.github.io/</id>
  
  <author>
    <name>A little lamb</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>利用SNAP实现Sentinel-2A L1C数据的大气校正</title>
    <link href="https://a-lamb.github.io/2021/06/09/SNAP-2A/"/>
    <id>https://a-lamb.github.io/2021/06/09/SNAP-2A/</id>
    <published>2021-06-09T08:57:13.000Z</published>
    <updated>2021-06-16T02:22:14.102Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Sentinel-2A-数据简介"><a href="#Sentinel-2A-数据简介" class="headerlink" title="Sentinel-2A 数据简介"></a>Sentinel-2A 数据简介</h1><p align ="left"> <font face="黑体" size="4"><ul><li>Sentinel-2A 数据包括L1C和L2A两种产品，前者为欧空局未经处理的数据产品；后者为经过Sen2Cor大气校正后的数据产品。</li><li>本次所用的S2影像为L1C数据，需预先利用Sen2Cor插件进行大气校正。</li></ul><h1 id="Sentinel-2A-L1C-数据大气校正流程"><a href="#Sentinel-2A-L1C-数据大气校正流程" class="headerlink" title="Sentinel-2A L1C 数据大气校正流程"></a>Sentinel-2A L1C 数据大气校正流程</h1><blockquote><p>原文链接：<a href="https://blog.csdn.net/lidahuilidahui/article/details/99947811">https://blog.csdn.net/lidahuilidahui/article/details/99947811</a></p></blockquote><h2 id="一、安装Sen2Cor插件"><a href="#一、安装Sen2Cor插件" class="headerlink" title="一、安装Sen2Cor插件"></a>一、安装Sen2Cor插件</h2> <p align ="left"> <font face="黑体" size="4"><ul><li>SNAP——Pools——Plugins——Available Plugins——勾选Sentinel-2 SEN2COR280</li></ul><h2 id="二、大气校正"><a href="#二、大气校正" class="headerlink" title="二、大气校正"></a>二、大气校正</h2> <p align ="left"> <font face="黑体" size="4"><ul><li>SNAP——Optical——Thematic Land Procesing——Sen2Cor Processor——Sen2Cor280</li><li>I/O Parameters参数面板默认</li><li>Processing Parameters:<ol><li>一般只需设置分辨率，若不想降低分辨率，选择ALL即可。</li><li>勾选左上角的Display Execution output，下方会出现黑框，以显示校正过程及结果。</li></ol></li></ul> <p align ="left"> <font face="黑体" size="4"> <ul><li>此时，点击Run后，出现了路径不存在的问题：<br><a href="https://imgtu.com/i/22XwPP"><img src="https://z3.ax1x.com/2021/06/10/22XwPP.png" alt="22XwPP.png"></a></li><li>且点击OK后,显示Bundle installation failed</li></ul><blockquote><p>参考外网资料（需要VPN) <a href="https://forum.step.esa.int/t/sen2cor-detailled-instructions/8659%E4%BB%A5%E5%8F%8Ahttps://forum.step.esa.int/uploads/default/original/2X/7/7320a2abcead726a29dc5a85ae55c4450ab49a49.rtf%EF%BC%8C">https://forum.step.esa.int/t/sen2cor-detailled-instructions/8659以及https://forum.step.esa.int/uploads/default/original/2X/7/7320a2abcead726a29dc5a85ae55c4450ab49a49.rtf，</a> 经过一下午的试错，得到解决方案如下：</p></blockquote> <p align ="left"> <font face="黑体" size="4"> <pre><code>1. 在http://step.esa.int/main/snap-supported-plugins/sen2cor/sen2cor_v2-8/ 下载Sen2Cor v2.8,将解压后的文件夹存储在C:\Users\lenovo\.snap\auxdata路径下。 - 注意：解压后可能得到C:\…\Sen2Cor-02.08.00-win64\Sen2Cor-02.08.00-win64;需复制最后一个子文件夹的所有内容，粘贴到第一个文件夹，并删除原子文件夹。2. 新建C:\$SEN2COR_BIN($表示系统文件夹)，并在该文件夹中创建子文件夹C:\$SEN2COR_BIN\aux_data，将解压后的文件夹“Sen2Cor-02.08.08-win64”复制到aux_data中3. 非常重要：新建文件夹:C:\Users\lenovo\Documents\sen2cor，这是sen2cor运行时内部数据的存储位置4. Win 10系统中，进入开始菜单——windows系统——控制面板——系统与安全——系统——高级系统设置——系统属性——环境变量——new——创建新变量sen2cor——输入第3步中的路径C:\Users\lenovo\Documents\sen2cor5. 在SNAP——Tools——Manage external Tools中删除已下载的Sentinel-2插件6. 在SNAP——Tools——Plugins——Installed中删除已下载的Sentinel-2插件7. 在文件夹C:\Users\lenovo\.snap\auxdata\tool-adapters，以及C:\Users\lenovo\Documents\sen2cor中删除已下载的sen2cor文件8. 重新安装Sen2cor插件：SNAP——Tools——Plugins——Available plugins——勾选Sentinel-2 SEN2COR280——Install9. 重新进行“二、大气校正”：SNAP——Optical——Thematic Land Procesing——Sen2Cor Processor——Sen2Cor280 - 此时依然会报错：路径不存在，不用在意。 点击OK——在Bundle Available界面点击YES——大概率仍会显示Bundle installation failed——点击OK——在Location选项勾选LOCAL——选择下载的Sen2Cor-02.08.08-win64安装路径（C:\Users\lenovo\.snap\auxdata\Sen2Cor-02.08.00-win64）——OK10. 完成。Sen2cor可正常运行，大气校正时间15-30分钟。</code></pre>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Sentinel-2A-数据简介&quot;&gt;&lt;a href=&quot;#Sentinel-2A-数据简介&quot; class=&quot;headerlink&quot; title=&quot;Sentinel-2A 数据简介&quot;&gt;&lt;/a&gt;Sentinel-2A 数据简介&lt;/h1&gt;&lt;p align =&quot;left&quot;&gt;</summary>
      
    
    
    
    
    <category term="遥感" scheme="https://a-lamb.github.io/tags/%E9%81%A5%E6%84%9F/"/>
    
  </entry>
  
  <entry>
    <title>ENVI中Sentinel-1A影像的裁剪与后向散射系数提取</title>
    <link href="https://a-lamb.github.io/2021/06/08/ENVI/"/>
    <id>https://a-lamb.github.io/2021/06/08/ENVI/</id>
    <published>2021-06-08T06:19:03.000Z</published>
    <updated>2021-06-11T02:48:16.475Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Sentinel-1A-数据裁剪"><a href="#Sentinel-1A-数据裁剪" class="headerlink" title="Sentinel-1A 数据裁剪"></a>Sentinel-1A 数据裁剪</h1><p align ="left"> <font face="宋体" size="4"><ol><li>将SNAP预处理后的S1影像另存为ENVI可以打开的格式（如ENVI格式）</li><li>在ENVI中打开S1影像和裁剪区域的shp文件</li><li>Toolbox——Regions of Interest——Subset Data from ROIs——选择待裁剪影像和感兴趣区shp文件（Mask pixels outside of ROIs?改为YES)<br>裁剪后的图像默认为黑色背景，若要改为白色背景，步骤：<ul><li>Toolbox——Raster Management—— Edit ENVI Header</li><li>点击左上角add——Data ignore value——设置为0</li></ul></li></ol><h1 id="Sentinel-1A-后向散射系数提取"><a href="#Sentinel-1A-后向散射系数提取" class="headerlink" title="Sentinel-1A 后向散射系数提取"></a>Sentinel-1A 后向散射系数提取</h1><p align ="left"> <font face="宋体" size="4"><ol><li>点击 Cursor value(左上角红色图表)，可看到鼠标所在位置的dB值（一般均为负值）</li><li>右键图层——Quick Stats, 可得到dB值的统计学信息</li><li>File——save as——ASCII——选择文件——Output Style选 XYZ Format，其他参数默认，得到每个像元对应的经度、纬度和dB值（txt.格式）</li></ol><p align ="left"> <font face="黑体" color="HotPink" size="4">注意：<p align ="left"> <font face="宋体" color="HotPink" size="4">将每个像元对应的经纬度和dB值输出为ASCII时，txt文件过大,无法用记事本/word/excel打开解决方法：百度下载LogViewer Pro，可读取任意大小的txt.文件]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Sentinel-1A-数据裁剪&quot;&gt;&lt;a href=&quot;#Sentinel-1A-数据裁剪&quot; class=&quot;headerlink&quot; title=&quot;Sentinel-1A 数据裁剪&quot;&gt;&lt;/a&gt;Sentinel-1A 数据裁剪&lt;/h1&gt;&lt;p align =&quot;left&quot;&gt;</summary>
      
    
    
    
    
    <category term="遥感" scheme="https://a-lamb.github.io/tags/%E9%81%A5%E6%84%9F/"/>
    
  </entry>
  
  <entry>
    <title>利用SNAP实现Sentinel-1A数据的预处理</title>
    <link href="https://a-lamb.github.io/2021/06/07/SNAP-1A/"/>
    <id>https://a-lamb.github.io/2021/06/07/SNAP-1A/</id>
    <published>2021-06-07T08:34:16.000Z</published>
    <updated>2021-06-08T06:17:12.584Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Sentinel-1A-数据简介"><a href="#Sentinel-1A-数据简介" class="headerlink" title="Sentinel-1A 数据简介"></a>Sentinel-1A 数据简介</h1><p>下载的Sentinel-1A数据解压后得到以下文件：</p><p><a href="https://imgtu.com/i/20pR3j"><img src="https://z3.ax1x.com/2021/06/07/20pR3j.png" alt="20pR3j.png"></a></p><p>   分别为：</p><ul><li>annotation：注释子文件夹（卫星拍摄以及定标时的相关数据）；</li><li>measurement: 测量数据的子文件夹(包括真正的影像数据，以.tif格式存储）；</li><li>preview: 包含KML和HTML预览文件的预览子文件夹；</li><li>support：对.xml文件的扩展支持文件；</li><li>manifest.safe：元数据文件，本质上是一个.xml文件；</li><li>PDF：关于数据质量的说明文件。</li></ul><p>打开preview文件夹下product-preview.html文件， 可以快速看到该影像数据的预览图以及文件组织结构。</p><p><a href="https://imgtu.com/i/20pWgs"><img src="https://z3.ax1x.com/2021/06/07/20pWgs.png" alt="20pWgs.png"></a></p><h1 id="Sentinel-1A-数据预处理-（SNAP软件）"><a href="#Sentinel-1A-数据预处理-（SNAP软件）" class="headerlink" title="Sentinel-1A 数据预处理 （SNAP软件）"></a>Sentinel-1A 数据预处理 （SNAP软件）</h1><h2 id="一、导入影像"><a href="#一、导入影像" class="headerlink" title="一、导入影像"></a>一、导入影像</h2><p>   两种方式：</p><ol><li>将Sentinel-1影像数据压缩包（.zip）直接拖入SNAP的左侧的Product Explorer窗口，稍后SNAP会自动导入该压缩包里面的数据。（可以按Ctrl键选择多个，并一次拖动多个）。</li><li>File—Open Product—选择Sentinel-1影像数据解压后.SAFE文件夹下的manifest.safe文件。</li></ol><p>   <a href="https://imgtu.com/i/20prHf"><img src="https://z3.ax1x.com/2021/06/07/20prHf.png" alt="20prHf.png"></a></p><p>   点击文件夹名前面的“+”号，可看到5个子文件夹</p><ul><li>Metadata是影像的元数据文件；</li><li>Vector Data 是矢量数据（如大头针pin标记点,控制点，还可以添加ROI等矢量数据）；</li><li>Tie-Point Grid是与地理编码有关的网格数据(如经纬度，入射角等信息);</li><li>Quicklooks是快视图；</li><li>Bands是SAR的极化通道（波段）数据。<br>将Bands文件夹展开，可看到波段信息：</li></ul><p>   <a href="https://imgtu.com/i/20pyE8"><img src="https://z3.ax1x.com/2021/06/07/20pyE8.png" alt="20pyE8.png"></a></p><p>   GRD数据的波段信息与SLC不同。<br>   Amplitude_VH波段表示VH通道的振幅；<br>   Intensity_VH波段表示VH通道的强度（振幅的平方）；<br>   VV通道意义类似。<br>   Intensity_VH前面有个“V“的标志（V是”Virtual“的前缀），表示该波段是在内存中临时产生虚拟的波段，不是实际存储在硬盘的波段。</p><blockquote><p>原文链接：<a href="https://blog.csdn.net/lidahuilidahui/article/details/105443366">https://blog.csdn.net/lidahuilidahui/article/details/105443366</a></p></blockquote><h2 id="二、预处理流程"><a href="#二、预处理流程" class="headerlink" title="二、预处理流程"></a>二、预处理流程</h2><h3 id="（1）轨道校正"><a href="#（1）轨道校正" class="headerlink" title="（1）轨道校正"></a>（1）轨道校正</h3><p>   Radar—Apply Orbit File.</p><ul><li>I/O Parameters参数面板默认即可，若需要修改输出的目录路径，默认得到的数据集名会添加上后缀“_Orb”,表示已做轨道校正</li><li>Processing Parameters:</li></ul><p>   <a href="https://imgtu.com/i/20p6US"><img src="https://z3.ax1x.com/2021/06/07/20p6US.png" alt="20p6US.png"></a></p><h3 id="（2）热噪声去除"><a href="#（2）热噪声去除" class="headerlink" title="（2）热噪声去除"></a>（2）热噪声去除</h3><p>   Radar—Radiometric—&gt;S-1 Thermal Noise</p><ul><li>注意：需在I/O 参数面板的输出栏手动添加后缀“_THR”</li><li>Processing Parameters面板保持默认参数</li></ul><p>   <a href="https://imgtu.com/i/20pc4g"><img src="https://z3.ax1x.com/2021/06/07/20pc4g.png" alt="20pc4g.png"></a></p><h3 id="（3）辐射定标"><a href="#（3）辐射定标" class="headerlink" title="（3）辐射定标"></a>（3）辐射定标</h3><p>   辐射定标，即将接收的后向散射信号（能量）转化为有单位的物理量（有一些是没有单位辐射定标的比例值），比如后向散射系数。<br>   对于SAR数据而言，由于云层的穿透性，只需要做辐射定标操作即可，不存在光学影像的大气校正操作。<br>   操作：Radar—Radiometric—Calibrate</p><ul><li>I/O Parameters面板保持默认，也可修改输出的文件名和目录</li><li>Processing Parameters面板保持默认参数</li></ul><h3 id="（4）相干斑滤波"><a href="#（4）相干斑滤波" class="headerlink" title="（4）相干斑滤波"></a>（4）相干斑滤波</h3><p>   相干斑是SAR影像常见的现象，对于SAR分类等应用来说，这是噪声。<br>   去除相干斑的滤波器有多种，这里使用Refined Lee滤波器（改进的Lee滤波器），这是目前最常用的相干斑滤波器，它是一种自适应滤波器（滤波窗口可以根据区域自动调整），处理效果较为出色。<br>   操作：Radar—Speckle Filtering—Single Product Speckle Filter</p><ul><li>I/O Parameters参数面板默认</li><li>Processing Parameters面板：Filter选择Refined Lee</li></ul><h3 id="（5）地形校正"><a href="#（5）地形校正" class="headerlink" title="（5）地形校正"></a>（5）地形校正</h3><p>   操作：Radar—Geometric—Terrain Correction— Range-Doppler Terrain Correction (距离多普勒法地形校正)</p><ul><li>I/O Parameters参数面板默认</li><li>Processing Parameters面板：取消Mask out areas without elevation的勾选，其他默认</li></ul><p>   <a href="https://imgtu.com/i/20p2CQ"><img src="https://z3.ax1x.com/2021/06/07/20p2CQ.png" alt="20p2CQ.png"></a></p><h1 id="注意事项以及可能出现的问题"><a href="#注意事项以及可能出现的问题" class="headerlink" title="注意事项以及可能出现的问题"></a>注意事项以及可能出现的问题</h1><p align ="left"> <font face="宋体" color="pink" size="4">    - 确认下一步操作是在上一步处理后的影像上进行    - 在地形校正过程中，SNAP软件可能会出现进度条卡住不动的现象。解决方法：重装SNAP，并按软件打开后的提示框操作，更新到最新版本，并下载最新插件。 ]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Sentinel-1A-数据简介&quot;&gt;&lt;a href=&quot;#Sentinel-1A-数据简介&quot; class=&quot;headerlink&quot; title=&quot;Sentinel-1A 数据简介&quot;&gt;&lt;/a&gt;Sentinel-1A 数据简介&lt;/h1&gt;&lt;p&gt;下载的Sentinel-1A</summary>
      
    
    
    
    
    <category term="遥感" scheme="https://a-lamb.github.io/tags/%E9%81%A5%E6%84%9F/"/>
    
  </entry>
  
  <entry>
    <title>Sentinel数据下载</title>
    <link href="https://a-lamb.github.io/2021/06/07/sentinel-download/"/>
    <id>https://a-lamb.github.io/2021/06/07/sentinel-download/</id>
    <published>2021-06-07T05:50:11.000Z</published>
    <updated>2021-06-07T08:23:08.621Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Sentinel-数据下载"><a href="#Sentinel-数据下载" class="headerlink" title="Sentinel 数据下载"></a>Sentinel 数据下载</h1><p align ="left"> <font face="黑体" size="5"><p>一、哨兵科学数据中心（Sentinels Scientific Data Hub）</p><blockquote><p>网址：<a href="https://scihub.copernicus.eu/dhus/#/home">https://scihub.copernicus.eu/dhus/#/home</a></p></blockquote><p align ="left"> <font face="黑体" size="5"><p>需注册欧空局账号</p><p>可下载sentinel1/2/3影像，数据更新快</p><p>缺点：需VPN，下载速度慢，网站不稳定（尽可能在凌晨-上午10点下载）</p><p><a href="https://imgtu.com/i/2wstWq"><img src="https://z3.ax1x.com/2021/06/07/2wstWq.png" alt="2wstWq.png"></a></p><p align ="left"> <font face="黑体" size="5"><p>二、美国地质勘探局（United States Geological Survey, USGS）</p><blockquote><p>网址：<a href="https://earthexplorer.usgs.gov/">https://earthexplorer.usgs.gov/</a></p></blockquote><p align ="left"> <font face="黑体" size="5"><p>需注册账号</p><p>只可下载sentinel-2数据</p><p>缺点：需VPN，网站加载慢，下载速度慢</p><p><a href="https://imgtu.com/i/2wsDw4"><img src="https://z3.ax1x.com/2021/06/07/2wsDw4.png" alt="2wsDw4.png"></a></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1 id=&quot;Sentinel-数据下载&quot;&gt;&lt;a href=&quot;#Sentinel-数据下载&quot; class=&quot;headerlink&quot; title=&quot;Sentinel 数据下载&quot;&gt;&lt;/a&gt;Sentinel 数据下载&lt;/h1&gt;&lt;p align =&quot;left&quot;&gt; &lt;font face=</summary>
      
    
    
    
    
    <category term="遥感" scheme="https://a-lamb.github.io/tags/%E9%81%A5%E6%84%9F/"/>
    
  </entry>
  
  <entry>
    <title>A Lamb&#39;s First Blog</title>
    <link href="https://a-lamb.github.io/2021/05/17/A%20Lamb&#39;s%20First%20Blog/"/>
    <id>https://a-lamb.github.io/2021/05/17/A%20Lamb&#39;s%20First%20Blog/</id>
    <published>2021-05-17T06:18:36.000Z</published>
    <updated>2021-05-18T08:25:12.763Z</updated>
    
    <content type="html"><![CDATA[<center><font face="仿宋" color="HotPink" size="5"> **有一天，小羊不想在笔记本上做笔记了**<center><font face="仿宋" color="HotPink" size="5"> **但，它不喜欢那些千篇一律的BLOG APP**<center><font face="仿宋" color="HotPink" size="5"> **于是，小羊拥有了一个可以自定义一切的个人主页**]]></content>
    
    
      
      
    <summary type="html">&lt;center&gt;&lt;font face=&quot;仿宋&quot; color=&quot;HotPink&quot; size=&quot;5&quot;&gt; **有一天，小羊不想在笔记本上做笔记了**

&lt;center&gt;&lt;font face=&quot;仿宋&quot; color=&quot;HotPink&quot; size=&quot;5&quot;&gt; **但，它不喜欢那些千篇一律的BL</summary>
      
    
    
    
    
  </entry>
  
</feed>
